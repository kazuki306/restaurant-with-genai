import streamlit as st

st.title("データ分析官さんの使い方 by Claude 3.5")

st.markdown("""
### アプリケーションの説明

データ分析官さんは、AIを活用してCSVファイルのデータ分析を行うWebアプリケーションです。損益計算書や口コミデータなど、さまざまな種類のCSVファイルを分析することができます。

### アプリの使い方

1. **モデルやシステムプロンプトの設定**
   - 画面左側のサイドバーで、使用するモデルやシステムプロンプトを設定します。

2. **CSVファイルのアップロード**
   - 「CSVファイルのアップロード」セクションで、分析したいCSVファイルをアップロードします。
   - 以下のいずれかまたは両方のCSVファイルをアップロードできます : 
     - 損益計算書CSV
     - 口コミゲットさんでダウンロードした口コミCSV

3. **分析プロンプトの入力と送信**
   - アップロードしたCSVを分析するためのプロンプトを入力フィールドに記入します。
   - 「送信」ボタンをクリックして分析を開始します。

### 分析のためのサンプルプロンプト

#### 1. 損益計算書の分析
```
損益計算書の内容を分析し、以下の点について簡潔にまとめてください : \n
1. 売上高の推移 
2. 営業利益率の変化 
3. 主要な費用項目の傾向
4. 財務上の課題や改善点
```

#### 2. 口コミの分析
```
口コミのcontentを5つ抜き出し、口コミの内容を positive, negative, neutral のいずれかにタグ付けをしてください。 
分類例は以下の通りです。

<example> 

- マヨコーンピザが美味しかった！ : positive 
- トイレが汚かった : negative 
- ランチ利用で友達と来ました : neutral 

</example>

出力は、"口コミ"と"タグ"の２つの列を持つマークダウンの表形式で表示してください。
```

#### 3. 損益計算書と口コミ両方の分析
```
損益計算書と口コミデータを総合的に分析し、以下の点について報告してください：
1. 売上高の推移と口コミの傾向の相関関係
2. 顧客満足度（口コミの評価）と利益率の関連性
3. 口コミから得られる改善点と、それを実施した場合の財務への影響予測
4. 総合的な事業改善策の提案
```
""")